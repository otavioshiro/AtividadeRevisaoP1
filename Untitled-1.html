<html>

<head>
    <meta charset="UTF-8">
    <title>Exercício</title>
    <style>
        input[type='submit'],
        button,
        [aria-label] {
            cursor: pointer;
        }
        
        #spoiler {
            display: none;
        }
    </style>

    <form action="javascript:void(0);" method="POST" onsubmit="global.Add()">
        <input type="text" id="add-name" placeholder="Model">
        <input type="text" id="add-manufatory" placeholder="Trademark">
        <input type="text" id="add-plate" placeholder="Plate">
        <input type="submit" value="Add">
    </form>

    <div id="spoiler" role="aria-hidden">
        <form action="javascript:void(0);" method="POST" id="saveEdit">
            <input type="text" id="edit-name">
            <input type="submit" value="Edit" /> <a onclick="CloseInput()" aria-label="Close">&#10006;</a>
        </form>
    </div>

    <p id="counter"></p>

    <table border="1">
        <tr>
            <th>Name</th>
            <th>Manufactory</th>
            <th>Plate</th>
        </tr>
        <tbody id="countries">
        </tbody>
    </table>

</head>


<body>

    <script>
        var global = new function () {

            console.log("Entrou na página");

            this.el = document.getElementById('countries');
            this.el1 = document.getElementById('vector1');
            this.el2 = document.getElementById('vector2');
            this.el3 = document.getElementById('vector3');
            this.countries = [];
            this.vector1 = [];  //marca
            this.vector2 = [];  //Modelo
            this.vector3 = [];  //Placa
            var id = id + 1;


            this.Count = function (data) {
                console.log("Entrando no método Count");
                var el = document.getElementById('counter');
                var name = 'lanche';
                if (data) {
                    if (data > 1) {
                        name = 'lanches';
                    }
                    el.innerHTML = data + ' ' + name;
                } else {
                    el.innerHTML = 'No ' + name;
                }
            };

            this.FetchAll = function () {
                var data = '';
                if (this.countries.length > 0) {
                    for (i = 0; i < this.countries.length; i++) {

                        data += '<td>' + vector1[i] + '<td>';
                        data += '<td><button onclick="global.Edit(' + i + ')">Edit</button></td>';
                        data += '<td><button onclick="global.Delete(' + i + ')">Delete</button></td>';



                        data += '<td>' + vector2[i] + '<td>';
                        data += '<td><button onclick="global.Edit(' + i + ')">Edit</button></td>';
                        data += '<td><button onclick="global.Delete(' + i + ')">Delete</button></td>';



                        data += '<td>' + vector3[i] + '<td>';
                        data += '<td><button onclick="global.Edit(' + i + ')">Edit</button></td>';
                        data += '<td><button onclick="global.Delete(' + i + ')">Delete</button></td>';


                    }
                }
                console.log("Inserirndo no método Count");
                this.Count(this.vector1.length);
                this.Count(this.vector2.length);
                this.Count(this.vector3.length);
                return this.el.innerHTML = data;
                return this.el1.innerHTML = data;
                return this.el2.innerHTML = data;
                return this.el3.innerHTML = data;
                
            };

            this.Add = function () {
                el1 = document.getElementById('add-name');
                var lanche1 = el1.value;
                
                    this.vector1.push(lanche1.trim());
                    el1.value = '';
                    //this.vector1.push(lanche1.trim());
                    console.log("Está no método Add - el1");
                
                
                    el2 = document.getElementById('add-name');
                    var lanche2 = el2.value;

                    this.vector2.push(lanche2.trim());
                    el2.value = '';
                    //this.vector2.push(lanche2.trim());
                    console.log("Está no método Add - el2");
                


                    el3 = document.getElementById('add-name');
                    var lanche3 = el3.value;

                    this.vector3.push(lanche3.trim());
                    el3.value = '';
                    //this.vector3.push(lanche3.trim());
                    console.log("Está no método Add - el3");
                
                this.FetchAll();
            }

        }
    </script>

</body>

</html>